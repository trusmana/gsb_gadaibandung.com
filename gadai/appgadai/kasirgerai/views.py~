from django.http import HttpResponse, Http404, HttpResponseRedirect
from django.template import RequestContext    
from django.shortcuts import render_to_response, get_object_or_404
from django import forms
import datetime
from django.conf import settings
from django.contrib.auth.decorators import login_required
from django.contrib.auth.models import User,Group
from django.core.paginator import Paginator, InvalidPage, EmptyPage
from django.contrib.auth.decorators import login_required, user_passes_test
from gadai.appgadai.kasirgerai.forms import *
from gadai.appgadai.jurnal.forms import *
from django.contrib import messages
from gadai.appgadai.models import *

def posting_akhir_hari(request, object_id):
    cabang = Tbl_Cabang.objects.get(id=object_id)
    jurnal = Tbl_Transaksi.objects.filter(id_cabang = cabang.id).filter(status_jurnal = 2).filter(tgl_trans=datetime.date.today())
    jurnal.update(status_jurnal = 3,status_posting = 1)
    messages.add_message(request, messages.INFO, 'POSTING TRANSAKSI HARIAN TELAH BERHASIL DI LAKSANAKAN')
    return HttpResponseRedirect('/')

def app_gu(request,object_id):
    sekarang = datetime.date.today()
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    #gr = AkadGadai.objects.filter(gerai__kode_cabang=kocab.kode_cabang).filter(jns_gu = 1)
    gr = KasirGerai.objects.filter(status = 2)
    template = 'kasir/laporan/gadai_ulang.html'
    variables = RequestContext(request, {'user':User,'gr':gr,'kocab':kocab})
    return render_to_response(template, variables)

def app(request,object_id):
    sekarang = datetime.date.today()
    D = decimal.Decimal
    nas = KasirGerai.objects.get(id=object_id)
    #kpl = AkadGadai.objects.get(id=object_id)
    
    form = Kasir_App_GU_Form(initial={'nilai':int(nas.kasir.nilai),'tanggal': sekarang,
    'nilai_terima_bersih':int(((nas.kasir.nilai_gu) + D(nas.kasir.denda_gu) + D(nas.kasir.jasa_gu)) - D(nas.kasir.jurnal_titipan)),
    'sisa_bayar':int(((nas.kasir.nilai_gu) + D(nas.kasir.denda_gu) + D(nas.kasir.jasa_gu)) - D(nas.kasir.jurnal_titipan)),'nilai_dibayar':0})
    #form.fields['kepala_gerai'].widget = forms.HiddenInput()
    template = 'kplgerai/approve_pelunasan.html'
    variable = RequestContext(request, {'form':form,'nas':nas})
    return render_to_response(template,variable)

def verifikasi_kasir_gu(request, object_id):
    nas = KasirGerai.objects.get(id=object_id)
    a = nas.kasir.agnasabah
    b = a.akadgadai_set.filter(status_transaksi=1).filter(barang__id = nas.kasir.barang.id)
    c = b.latest()
    d = c.pelunasan_terakhir()
    e = d.id
    if request.method == 'POST':
        form = Kasir_App_GU_Form(request.POST)
        if form.is_valid():
            #kasir = form.cleaned_data['kasir']
            nilai = form.cleaned_data['nilai']
            nilai_terima_bersih = form.cleaned_data['nilai_terima_bersih']
            nilai_pembulatan = form.cleaned_data['nilai_pembulatan']
            selisih  = form.cleaned_data['selisih']
            jenis_transaksi = form.cleaned_data['jenis_transaksi']
            tanggal = form.cleaned_data['tanggal']
            nilai_dibayar = form.cleaned_data['nilai_dibayar']
            sisa_bayar = form.cleaned_data['sisa_bayar']
            nas.status = 1
            nas.jenis_transaksi = jenis_transaksi
            nas.nilai_pembulatan_lunas = nilai_pembulatan
            nas.sisa_bayar_lunas = sisa_bayar
            nas.tanggal_lunas = tanggal
            nas.selisih_lunas = selisih
            nas.jenis_transaksi_lunas = jenis_transaksi
            nas.kasir_lunas_id = e
            nas.save()
            ## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU JAKARTA DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_jkt_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_jkt_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_jkt_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU JAKARTA DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_jkt_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_jkt_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_jkt_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS

            ## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU SUCI DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU JAKARTA DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS

            ## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU SUCI DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU SUCI DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '2' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_suci_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS

            ## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU DU DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '3' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_du_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '3' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_du_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '3' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_du_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU DU DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '3' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_du_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '3' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_du_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '3' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_du_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS

            ## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU BALUBUR DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '4' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_balubur_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '4' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_balubur_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '4' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_balubur_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU BALUBUR DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '4' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_balubur_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '4' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_balubur_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '4' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_balubur_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS

            ## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU HILIR DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '6' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_hilir_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '6' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_hilir_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '6' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_hilir_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU HILIR DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '6' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_hilir_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '6' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_hilir_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '6' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_hilir_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU KOPO DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '7' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_kopo_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '7' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_kopo_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '7' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_kopo_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU KOPO DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '7' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_kopo_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '7' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_kopo_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '7' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_kopo_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU CIBIRU DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '8' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cibiru_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '8' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cibiru_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '8' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cibiru_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU CIBIRU DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '8' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cibiru_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '8' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cibiru_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '8' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cibiru_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU CIPACING DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '9' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cipacing_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '9' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cipacing_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '9' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cipacing_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU CIPACING DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '9' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cipacing_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '9' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cipacing_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '9' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cipacing_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS

		    ## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU JATINANGOR DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '10' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_jatinangor_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '10' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_jatinangor_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '10' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_jatinangor_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU JATINANGOR DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '10' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_jatinangor_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '10' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_jatinangor_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '10' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_jatinangor_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
            ## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU CIMAHI DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '11' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cimahi_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '11' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cimahi_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '11' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cimahi_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU CIMAHI DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '11' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cimahi_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '11' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cimahi_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '11' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cimahi_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU BUAH BATU DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '12' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_bubat_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '12' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_bubat_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '12' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_bubat_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU BUAH BATU DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '12' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_bubat_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '12' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_bubat_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '12' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_bubat_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU MARANATHA DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '15' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_maranata_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '15' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_maranata_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '15' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_maranata_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU MARANATHA DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '15' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_maranata_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '15' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_maranata_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '15' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_maranata_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU CIREBON DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '17' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cirebon_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '17' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cirebon_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '17' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_cirebon_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU CIREBON DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '17' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cirebon_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '17' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cirebon_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '17' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_cirebon_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU CIUMBELEUIT DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '19' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_ciumbeleuit_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '19' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_ciumbeleuit_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '19' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_ciumbeleuit_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU CIUMBELEUIT DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '19' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_ciumbeleuit_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '19' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_ciumbeleuit_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '19' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_ciumbeleuit_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU UBER DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '20' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_uber_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '20' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_uber_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '20' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_uber_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU UBER DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '20' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_uber_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '20' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_uber_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '20' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_uber_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
			
			## TRANSAKSI MELALUI KAS
            ### UNTUK MEMBUAT JURNAL GU CIWASTRA DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            if nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '21' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_ciwastra_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '21' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_ciwastra_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '21' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_kas_ciwastra_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU CIWASTRA DENGAN KONDIS TRANSAKSI KAS,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '21' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_ciwastra_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '21' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_ciwastra_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'1' and nas.kasir.gerai.kode_cabang == '21' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_kas_ciwastra_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS



            ## TRANSAKSI MELALUI BANK
            ### UNTUK MEMBUAT JURNAL GU JAKARTA DENGAN KONDIS TRANSAKSI BANK,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'2' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas > 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_bank_jkt_gu_nilai_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'2' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas == 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_bank_jkt_gu_nilai_sama(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'2' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas < 0 and nas.kasir.nilai <= nas.kasir.nilai_gu:
                jurnal_bank_jkt_gu_nilai_kurang(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ### UNTUK MEMBUAT JURNAL GU JAKARTA DENGAN KONDIS TRANSAKSI BANK,PINJAMAN SEBELUM <= NILAI GU
            elif nas.jenis_transaksi_lunas == u'2' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas > 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_bank_jkt_gu_nilai_lebih_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif nas.jenis_transaksi_lunas == u'2' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas == 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_bank_jkt_gu_nilai_sama_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### PENGAJUAN BERHASIL ###')   
            elif nas.jenis_transaksi_lunas == u'2' and nas.kasir.gerai.kode_cabang == '1' and nas.selisih_lunas < 0 and nas.kasir.nilai > nas.kasir.nilai_gu:
                jurnal_bank_jkt_gu_nilai_kurang_pinjaman_lebih(nas, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
            ## AKHIR TRANSAKSI MELALUI KAS
            return HttpResponseRedirect('/')   
        else:
            messages.add_message(request, messages.INFO,'### PENGAJUAN GAGAL ###')
            return HttpResponseRedirect('/')  
    else:
        #return HttpResponseRedirect('/')
        form = Kasir_App_GU_Form()
    variables = RequestContext(request, {'form': form,'nas':nas})
    template = 'kplgerai/approve_pelunasan.html'
    return render_to_response(template, variables)
## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_jkt_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_jkt_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_jkt_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_jkt_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_jkt_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_jkt_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS      


## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_suci_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_suci_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_suci_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_suci_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_suci_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_suci_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS      

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_du_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_du_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_du_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_du_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_du_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_du_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS     

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_balubur_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_balubur_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_balubur_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_balubur_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_balubur_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_balubur_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS     

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_du_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_du_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_du_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS     

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_hilir_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_hilir_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_hilir_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_hilir_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_hilir_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_hilir_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS     

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_kopo_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_kopo_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_kopo_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_kopo_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_kopo_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_kopo_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS   

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_cibiru_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_cibiru_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_cibiru_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_cibiru_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_cibiru_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_cibiru_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS   

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_cipacing_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_cipacing_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_cipacing_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_cipacing_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_cipacing_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_cipacing_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS   

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_jatinangor_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_jatinangor_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_jatinangor_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_jatinangor_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_jatinangor_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_jatinangor_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_cimahi_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_cimahi_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_cimahi_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_cimahi_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_cimahi_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_cimahi_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_bubat_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_bubat_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_bubat_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_bubat_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_bubat_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_bubat_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_maranata_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_maranata_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_maranata_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_maranata_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_maranata_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_maranata_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_maranata_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_cirebon_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_cirebon_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_cirebon_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_cirebon_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_cirebon_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_cirebon_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_ciumbeleuit_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_ciumbeleuit_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_ciumbeleuit_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_ciumbeleuit_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_ciumbeleuit_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_ciumbeleuit_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_uber_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_uber_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_uber_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_uber_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_uber_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_uber_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 

## JURNAL TRANSAKSI MELALUI KAS
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_ciwastra_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=629L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_ciwastra_gu_nilai_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=629L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = 0,debet = (nas.nilai_pembulatan_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_pol"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman sama dan lebih kecil, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_ciwastra_gu_nilai_kurang(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=629L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_kas,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_bol"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_kas_ciwastra_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=629L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)    

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir_pinjaman_besar"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_kas_ciwastra_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=629L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_tp"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)  

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih_bl"), id_coa = a_beban_lainnya,
        debet = 1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_kas,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_kas_ciwastra_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_kas = get_object_or_404(Tbl_Akun, id=629L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_kas"), id_coa = a_kas,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang_pdl"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)
## AKHIR JURNAL TRANSAKSI MELALUI KAS 



## JURNAL TRANSAKSI MEMALULI BANK
###jurnal gadai ulang (pinjaman sama dan lebih kecil,tanpa ada selisih dalam pembayaran) kas
def jurnal_bank_jkt_gu_nilai_sama(nas, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_bank,
        kredit = 0,debet = nas.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = nas.sisa_bayar_lunas,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar,tanpa ada selisih dalam pembayaran) kas
def jurnal_bank_jkt_gu_nilai_sama_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_Gadai_Ulang_kasir"), id_coa = a_bank,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih besar dalam pembayaran) kas    
def jurnal_bank_jkt_gu_nilai_lebih_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang = nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_beban_lainnya,
        debet = -1 * (nas.selisih_lunas),kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_lebih"), id_coa = a_bank,
        kredit = (nas.nilai_pembulatan_lunas),debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

###jurnal gadai ulang (pinjaman lebih Besar, ada selisih lebih kecil dalam pembayaran) kas    
def jurnal_bank_jkt_gu_nilai_kurang_pinjaman_lebih(nas, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (nas.kasir.norek(), nas.kasir.agnasabah.nama),
        tgl_trans =nas.tanggal_lunas,nobukti=nas.kasir.norek())

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_titipan_pencairan,
        debet = nas.sisa_bayar_lunas,kredit = 0,id_product = '4',status_jurnal ='2',tgl_trans = nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_bank,
        kredit = nas.nilai_pembulatan_lunas,debet = 0,id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_gu_kasir_nilai_sblm_kurang"), id_coa = a_pend_lainnya,
        debet = 0,kredit = -1 * (nas.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =nas.tanggal_lunas,
        id_cabang =nas.kasir.gerai.kode_cabang,id_unit= 300)

## AKHIR JURNAL TRANSAKSI MELALUI BANK
def laporan_pelunasan_titipan(request,object_id):
    sekarang = datetime.date.today()
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    gr = Pelunasan.objects.filter(tanggal=sekarang).filter(gerai__kode_cabang=kocab.kode_cabang)
    template = 'kasir/laporan/laporan_pelunasan_titipan.html'
    variables = RequestContext(request, {'user':User,'gr':gr,'kocab':kocab})
    return render_to_response(template, variables)

def laporan_pelunasan(request,object_id):
    sekarang = datetime.date.today()
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    gr = Pelunasan.objects.filter(tanggal=sekarang).filter(gerai__kode_cabang=kocab.kode_cabang).filter(status_pelunasan = u'1')
    template = 'kasir/laporan/laporan_pelunsan.html'
    variables = RequestContext(request, {'user':User,'gr':gr,'kocab':kocab})
    return render_to_response(template, variables)

def laporan_pencairan(request,object_id):
    sekarang = datetime.date.today()
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    gr = AkadGadai.objects.filter(tanggal=sekarang).filter(gerai__kode_cabang=kocab.kode_cabang).filter(kasirgerai__val=1)
    template = 'kasir/laporan/laporan_pencairan.html'
    variables = RequestContext(request, {'user':User,'gr':gr,'kocab':kocab})
    return render_to_response(template, variables)

def mastertiket_antargerai(request,object_id):
    sekarang = datetime.date.today()  
    gr = Tbl_Transaksi.objects.filter(tgl_trans=sekarang).filter(id_cabang=object_id).filter(status_jurnal=u'2').filter(jenis__in=('GL_GL_PENAMBAHAN_KAS','GL_GL_PENGELUARAN_KAS_PUSAT',\
        'GL_GL_PENAMBAHAN_GERAI','GL_GL_PENAMBAHAN_BANK','GL_GL_PENGELUARAN_BANK','GL_GL_PENGELUARAN_BANK_PUSAT','GL_GL_PENGELUARAN_KAS'))  
    template = 'kasir/tiket/mastertiket_antargerai.html'
    variables = RequestContext(request, {'user':User,'g':gr,'total_debet': sum([p.debet for p in gr]),'total_kredit': sum([p.kredit for p in gr])})
    return render_to_response(template, variables)

def mastertiket_uangmuka(request,object_id):
    sekarang = datetime.date.today()  
    gr = Tbl_Transaksi.objects.filter(tgl_trans=sekarang).filter(id_cabang=object_id).filter(status_jurnal=u'2').filter(jenis__in=('GL_GL_PUSAT_UK','GL_GL_CABANG_UK','GL_GL_PENGEMBALIAN_UK'))  
    template = 'kasir/tiket/mastertiket_uangmuka.html'
    variables = RequestContext(request, {'user':User,'g':gr,'total_debet': sum([p.debet for p in gr]),'total_kredit': sum([p.kredit for p in gr])})
    return render_to_response(template, variables)

def uangmuka(request,object_id):
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    cab = object_id
    saldo_uangmuka_awal = 0
    transaksi_jurnal = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = (u'GL_GL_CABANG_UK')).filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'1')
    uang_muka_gerai = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PUSAT_UK').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_uk = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGEMBALIAN_UK').filter(id_cabang=cab).filter(status_jurnal=2)
    variables = RequestContext(request,{'kocab':kocab,'uang_muka':sum ([a.debet for a in uang_muka_gerai]),'transaksi_jurnal':transaksi_jurnal,
            'uang_muka_sum':sum ([a.debet for a in transaksi_jurnal]),'pengembalian_uk':sum ([a.kredit for a in pengembalian_uk]),
            'saldo_uk_akhir': sum ([a.debet for a in uang_muka_gerai]) - sum ([a.debet for a in transaksi_jurnal]) - sum ([a.kredit for a in pengembalian_uk])})
    template='kasir/view/all_transaksi_uangmuka.html'
    return render_to_response(template,variables)


def all_transaksi_kas(request,object_id):
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    cab = object_id
    s_awal = Tbl_Akun.objects.filter(tanggal = datetime.date.today()).filter(kode_cabang=cab).filter(header_parent_id = 3L)
    tampil =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(status_posting__isnull = True).filter(id_cabang=cab).filter(status_jurnal=2)
    setoran_bank_gerai = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PENAMBAHAN_BANK').filter(id_cabang=cab).filter(status_jurnal=2)
    setoran_kas_gerai = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENAMBAHAN_KAS').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_uk_bank = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGELUARAN_BANK').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_bank_pusat = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGEMBALIAN_PUSAT').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_kas_pusat = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGELUARAN_KAS_PUSAT').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_bank = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGELUARAN_BANK').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_kas = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGELUARAN_KAS').filter(id_cabang=cab).filter(status_jurnal=2)
    uang_muka_gerai = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PUSAT_UK').filter(id_cabang=cab).filter(status_jurnal=2)
    pencairan_kasir = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'Pencairan_kasir').filter(id_cabang=cab).filter(status_jurnal=2)
    pencairan_kasir_sisa = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in = ('Pencairan_kasir',\
        'Pelunasan_kasir','Pelunasan_gu_kasir_nilai_sblm_lebih_pol','Pelunasan_gu_kasir_nilai_sblm_kurang_pdl','Pencairan_kasir_sisa')).filter(id_cabang=cab).filter(status_jurnal=2).filter(id_coa= 448L)
    
    pengembalian_uk = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGEMBALIAN_UK').filter(id_cabang=cab).filter(status_jurnal=2)
    
    saldo_yang_dikirim = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'3')
    transaksi_jurnal = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in = (u'GL_GL_CABANG',\
        u'Pelunasan_gu_kasir_nilai_sblm_lebih_bl',u'Pencairan_kasir_kurang','Pelunasan_gu_kasir_nilai_sblm_kurang_bol')).filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'1')
    saldo_awal_hari = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_BIAYA_GERAI').filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'2')
    saldo_uang_muka_hari = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT_UK').filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'2')
    jurnal_list = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'Pencairan_kasir').filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 7L)
    pndptn_lainnya = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in =('Pencairan_kasir','Pelunasan_kasir')).filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 448L)
    tbl = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'Pelunasan_kasir').filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 287L)
    tbl_beban =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 516L)
    rakp =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 378L)
    
    penjualan = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = ('Penjualan_lelang_kasir')).filter(id_cabang=object_id).filter(status_jurnal=2)
    ak_ulang = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in = ('Pelunasan_gu_kasir_nilai_sblm_lebih','Pelunasan_Gadai_Ulang_kasir','Pelunasan_gu_kasir_nilai_sblm_kurang')).filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa__in= (448L,287L))
                                                                                                       

    akad_ulang_pengeluaran = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = ('Pelunasan_Gadai_Ulang_kasir_pinjaman_besar')).filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 298L)

    pengeluaran_gadai_ulang = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in = (u'Pelunasan_Gadai_Ulang_Kasir_nilai_pinjaman_lebih',u'Pelunasan_Gadai_Ulang_kasir_pinjaman_besar_tp',\
        u'Pelunasan_gu_kasir_nilai_sblm_lebih_tp',u'Pelunasan_gu_kasir_nilai_sblm_kurang')).filter(id_cabang=object_id).filter(status_jurnal=2)
                                                                                                                                                                                                                              
    hitung_a = sum ([a.kredit for a in setoran_kas_gerai]) + sum ([a.kredit for a in setoran_bank_gerai])  + sum([a.kredit for a in penjualan]) + sum ([a.kredit for a in pencairan_kasir_sisa]) + sum ([a.kredit for a in tbl]) 
    hitung_b = sum ([a.debet for a in transaksi_jurnal]) + \
            sum ([a.debet for a in pencairan_kasir]) +\
            sum ([a.kredit for a in pengembalian_bank]) + sum ([a.kredit for a in pengembalian_kas]) +\
            sum ([a.kredit for a in pengeluaran_gadai_ulang])
    saldo_awal = sum([a.saldo_pjb for a in s_awal])
    
    variables = RequestContext(request,{'kocab':kocab,'transaksi_jurnal':transaksi_jurnal,'a':jurnal_list,'total_pencairan':sum ([a.kredit for a in jurnal_list]),\
        'setoran_bank_kas_gerai' :sum ([a.kredit for a in setoran_kas_gerai]) + sum ([a.kredit for a in setoran_bank_gerai]),\
        'pengembalian_bank_pusat' :sum ([a.kredit for a in pengembalian_bank_pusat]) + sum ([a.kredit for a in pengembalian_kas_pusat]),
        'pengembalian_bank' :sum ([a.kredit for a in pengembalian_bank]) + sum ([a.kredit for a in pengembalian_kas]),\
        'uang_muka':sum ([a.kredit for a in uang_muka_gerai]),\
        'saldo_awal': sum([a.saldo_pjb for a in s_awal]),
        'total_penerimaan':hitung_a,
        'total_pengeluaran': hitung_b ,
        'saldo_akhir': saldo_awal + int(hitung_a) - int(hitung_b),
        'saldo_keseluruhan': (saldo_awal + hitung_a - hitung_b) - sum ([a.kredit for a in pengembalian_bank_pusat]) - sum ([a.kredit for a in pengembalian_kas_pusat]),  
            
        'pencairan':sum ([a.debet for a in pencairan_kasir]),\
        'pencairan_kasir_sisa':pencairan_kasir_sisa,\
        'saldo_awal_hari':sum ([a.debet for a in saldo_awal_hari]),\
        'saldo_uangmuka_hari':sum ([a.debet for a in saldo_uang_muka_hari]),\
        'total_pelunasan':tbl,\
        'total_pendapatan_lainnya':sum ([a.kredit for a in pndptn_lainnya]),'sekarang':datetime.date.today(),\
        'beban_listrik':(sum ([a.debet for a in tbl_beban])),\
        'total_rakp':sum ([a.kredit for a in rakp]), \
        'total_transaksi_jurnal': sum ([a.debet for a in transaksi_jurnal]),\
        'total_saldo' :  saldo_awal ,'ak_ulang':ak_ulang,
        'penjualan': penjualan,
        'pengeluaran_gadai_ulang': pengeluaran_gadai_ulang,'pengembalian_kas_pusat':pengembalian_kas_pusat,'pengembalian_bank_pusat':pengembalian_kas_pusat,        
        'saldo_yang_di_kirim':sum ([a.debet for a in saldo_yang_dikirim]), 'pengembalian_kas':pengembalian_kas,'t_kasir':pencairan_kasir,'tampil':tampil,
        'pengembalian_bank':pengembalian_bank,'setoran_kas_gerai':setoran_kas_gerai,'setoran_bank_gerai':setoran_bank_gerai,'cabang':kocab})
    template='kasir/view/all_transaksi_kas.html'
    return render_to_response(template,variables)


def cetak_all_transaksi_kas(request,object_id):
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    cab = object_id
    s_awal = Tbl_Akun.objects.filter(header_parent_id = 3L).filter(kode_cabang=1).filter(tanggal = datetime.date.today())
    tampil =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(status_posting__isnull = True).filter(id_cabang=cab).filter(status_jurnal=2)
    setoran_bank_gerai = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PENAMBAHAN_BANK').filter(id_cabang=cab).filter(status_jurnal=2)
    setoran_kas_gerai = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENAMBAHAN_KAS').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_uk_bank = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGELUARAN_BANK').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_bank_pusat = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGEMBALIAN_PUSAT').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_kas_pusat = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGELUARAN_KAS_PUSAT').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_bank = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGELUARAN_BANK').filter(id_cabang=cab).filter(status_jurnal=2)
    pengembalian_kas = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGELUARAN_KAS').filter(id_cabang=cab).filter(status_jurnal=2)
    uang_muka_gerai = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PUSAT_UK').filter(id_cabang=cab).filter(status_jurnal=2)
    pencairan_kasir = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'Pencairan_kasir').filter(id_cabang=cab).filter(status_jurnal=2)
    pencairan_kasir_sisa = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in = ('Pencairan_kasir','Pelunasan_kasir')).filter(id_cabang=cab).filter(status_jurnal=2).filter(id_coa= 448L)
    
    pengembalian_uk = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 'GL_GL_PENGEMBALIAN_UK').filter(id_cabang=cab).filter(status_jurnal=2)
    
    saldo_yang_dikirim = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'3')
    transaksi_jurnal = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = (u'GL_GL_CABANG')).filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'1')
    saldo_awal_hari = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_BIAYA_GERAI').filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'2')
    saldo_uang_muka_hari = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT_UK').filter(id_cabang=cab).filter(status_jurnal=2)#.filter(jurnal__status_jurnal = u'2')
    jurnal_list = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'Pencairan_kasir').filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 7L)
    pndptn_lainnya = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in =('Pencairan_kasir','Pelunasan_kasir')).filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 448L)
    tbl = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'Pelunasan_kasir').filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 287L)
    tbl_beban =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 516L)
    rakp =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 378L)
    
    penjualan = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = ('Penjualan_lelang_kasir')).filter(id_cabang=object_id).filter(status_jurnal=2)
    ak_ulang = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = ('Pelunasan_gu_kasir_nilai_sblm_lebih')).filter(id_cabang=object_id).filter(status_jurnal=2).filter(id_coa= 448L)

    pengeluaran_gadai_ulang = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'Pelunasan_Gadai_Ulang_Kasir_nilai_pinjaman_lebih').filter(id_cabang=object_id).filter(status_jurnal=2)
    hitung_a = sum ([a.kredit for a in setoran_kas_gerai]) + sum ([a.kredit for a in setoran_bank_gerai])  + sum([a.kredit for a in penjualan]) + sum ([a.kredit for a in pencairan_kasir_sisa]) + sum ([a.kredit for a in tbl]) 
    
    saldo_awal = sum ([a.saldo_pjb for a in s_awal])
    hitung_b = sum ([a.debet for a in transaksi_jurnal]) + \
            sum ([a.debet for a in pencairan_kasir]) +\
            sum ([a.kredit for a in pengembalian_bank]) + sum ([a.kredit for a in pengembalian_kas]) +\
            sum ([a.kredit for a in pengeluaran_gadai_ulang])
    variables = RequestContext(request,{'kocab':kocab,'transaksi_jurnal':transaksi_jurnal,'a':jurnal_list,'total_pencairan':sum ([a.kredit for a in jurnal_list]),\
        'setoran_bank_kas_gerai' :sum ([a.kredit for a in setoran_kas_gerai]) + sum ([a.kredit for a in setoran_bank_gerai]),\
        'pengembalian_bank_pusat' :sum ([a.kredit for a in pengembalian_bank_pusat]) + sum ([a.kredit for a in pengembalian_kas_pusat]),
        'pengembalian_bank' :sum ([a.kredit for a in pengembalian_bank]) + sum ([a.kredit for a in pengembalian_kas]),\
        'uang_muka':sum ([a.kredit for a in uang_muka_gerai]),\
        'saldo_awal' : sum ([a.saldo_pjb for a in s_awal]),\
        'total_penerimaan':hitung_a,
        'total_pengeluaran': hitung_b ,
        'saldo_akhir': saldo_awal + hitung_a - hitung_b,
        'saldo_keseluruhan': (saldo_awal + hitung_a - hitung_b) - sum ([a.kredit for a in pengembalian_bank_pusat]) - sum ([a.kredit for a in pengembalian_kas_pusat]),  
            
        'pencairan':sum ([a.debet for a in pencairan_kasir]),\
        'pencairan_kasir_sisa':pencairan_kasir_sisa,\
        'saldo_awal_hari':sum ([a.debet for a in saldo_awal_hari]),\
        'saldo_uangmuka_hari':sum ([a.debet for a in saldo_uang_muka_hari]),\
        'total_pelunasan':tbl,\
        'total_pendapatan_lainnya':sum ([a.kredit for a in pndptn_lainnya]),'sekarang':datetime.date.today(),\
        'beban_listrik':(sum ([a.debet for a in tbl_beban])),\
        'total_rakp':sum ([a.kredit for a in rakp]), \
        'total_transaksi_jurnal': sum ([a.debet for a in transaksi_jurnal]),\
        'total_saldo' :  saldo_awal ,'ak_ulang':ak_ulang,
        'penjualan': penjualan,
        'pengeluaran_gadai_ulang': pengeluaran_gadai_ulang,        
        'saldo_yang_di_kirim':sum ([a.debet for a in saldo_yang_dikirim]), 'pengembalian_kas':pengembalian_kas,'t_kasir':pencairan_kasir,'tampil':tampil,
        'pengembalian_kas_pusat':pengembalian_kas_pusat,'pengembalian_bank_pusat':pengembalian_bank_pusat,
        'pengembalian_bank':pengembalian_bank,'setoran_kas_gerai':setoran_kas_gerai,'setoran_bank_gerai':setoran_bank_gerai,'cabang':kocab})
    template='kasir/view/cetak_transaksi_all_harian.html'
    return render_to_response(template,variables)

def jurnal_umum(request,object_id): 
    jurnal_list = Tbl_Transaksi.objects.all()
    kobar=object_id
    trans=[]
    form = Tbl_AkunForm()
    start_date = None
    end_date = None
    id_cabang = None
    if 'start_date' in request.GET and request.GET['end_date']  and 'submit_satu' in request.GET:
        start_date = request.GET['start_date']
        end_date = request.GET['end_date']
        ledger_search = Tbl_Transaksi.objects.filter(tgl_trans__range=(start_date,end_date)).filter(status_jurnal=2)   
        trans = []
        for l in ledger_search:           
            trans.append(l)
        start_date = start_date
        end_date = end_date

        template='kasir/jurnal_umum.html'
        variable = RequestContext(request, {'jurnal_list': trans,'total_debet': sum([p.debet for p in trans]),'total_kredit': sum([p.kredit for p in trans]),
                'start_date':start_date,'end_date':start_date,'kobar':kobar})
        return render_to_response(template,variable)

    elif 'start_date' in request.GET and request.GET['end_date']  and 'submit_dua' in request.GET:
        start_date = request.GET['start_date']
        end_date = request.GET['end_date']
        ledger_search = Tbl_Transaksi.objects.filter(tgl_trans__range=(start_date,end_date)).filter(status_jurnal=2)
        trans = []
        for l in ledger_search:
            trans.append(l)
        start_date = start_date
        end_date = end_date

        template1= 'kasir/cetak_jurnal_umum.html'
        variable = RequestContext(request, {'jurnal_list': trans,'total_debet': sum([p.debet for p in trans]),'total_kredit': sum([p.kredit for p in trans]),
                'start_date':start_date,'end_date':start_date,'kobar':kobar})
        return render_to_response(template1,variable)
    else:
        template = 'kasir/jurnal_umum.html'
        variable = RequestContext(request, {'jurnal_list': trans,'total_debet': sum([p.debet for p in trans]),'total_kredit': sum([p.kredit for p in trans]),
            'start_date':start_date,'end_date':start_date,'kobar':kobar})
        return render_to_response(template,variable)

def gl_val(request,object_id):
    gr = Tbl_Transaksi.objects.get(id=object_id)
    template = 'kasir/gl_validasi.html'
    variable = RequestContext(request, {'gr':gr,})
    return render_to_response(template,variable)

def cetak_all_transaksi(request,object_id):
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    saldo_awal = 0
    saldo_yang_dikirim = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=1)
    transaksi_jurnal = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=1)
    saldo_awal_hari = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_BIAYA_GERAI').filter(id_cabang=object_id).filter(status_jurnal=1)
    jurnal_list = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'Pencairan_kasir').filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 7L)
    pndptn_lainnya = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in =('Pencairan_kasir','Pelunasan_kasir')).filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 448L)
    tbl = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis =u'Pelunasan_kasir').filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 287L)
    tbl_beban =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 516L)
    rakp =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 378L)
    variables = RequestContext(request,{'kocab':kocab,'transaksi_jurnal':transaksi_jurnal,'a':jurnal_list,'total_pencairan':sum ([a.kredit for a in jurnal_list]),\
        'saldo_awal_hari':sum ([a.debet for a in saldo_awal_hari]),\
        'total_pelunasan':sum ([a.kredit for a in tbl]),\
        'total_pendapatan_lainnya':sum ([a.kredit for a in pndptn_lainnya]),'sekarang':datetime.date.today(),\
        'total_penerimaan':(sum ([a.kredit for a in tbl]) + sum ([a.kredit for a in pndptn_lainnya])),\
        'total_pengeluaran':(sum ([a.kredit for a in jurnal_list])+ sum ([a.debet for a in transaksi_jurnal])),\
        'beban_listrik':(sum ([a.debet for a in tbl_beban])),\
        'total_rakp':sum ([a.kredit for a in rakp]), \
        'total_transaksi_jurnal': sum ([a.debet for a in transaksi_jurnal]),\
        'total_saldo' :  sum ([a.debet for a in saldo_awal_hari]) + saldo_awal,
        'saldo_akhir':( (sum ([a.kredit for a in rakp]) + (sum ([a.debet for a in tbl])\
            + sum ([a.kredit for a in pndptn_lainnya]))) - (sum ([a.kredit for a in jurnal_list])+ sum ([a.debet for a in tbl_beban]))),
        'saldo_keseluruhan': (sum ([a.debet for a in saldo_awal_hari])) + ((sum ([a.kredit for a in tbl])\
            + sum ([a.kredit for a in pndptn_lainnya])))- ((sum ([a.kredit for a in jurnal_list]) \
            + sum ([a.debet for a in transaksi_jurnal]))),
        'saldo_yang_di_kirim':sum ([a.debet for a in saldo_yang_dikirim]),
        'saldo_akhir': ((sum ([a.debet for a in saldo_awal_hari])) + ((sum ([a.kredit for a in tbl]) \
            + sum ([a.kredit for a in pndptn_lainnya])))- ((sum ([a.kredit for a in jurnal_list]) \
            + sum ([a.debet for a in transaksi_jurnal]))))- sum ([a.debet for a in saldo_yang_dikirim]),
    })
    template='kasir/view/cetak_transaksi_all_harian.html'
    return render_to_response(template,variables)

def all_transaksi(request,object_id):
    kocab = Tbl_Cabang.objects.get(kode_cabang=object_id)
    cab = object_id
    saldo_awal = 0
    saldo_yang_dikirim = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=cab).filter(status_jurnal=1)#.filter(jurnal__status_jurnal = u'3')
    transaksi_jurnal = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = (u'GL_GL_CABANG')).filter(id_cabang=cab).filter(status_jurnal=1)#.filter(jurnal__status_jurnal = u'1')
    saldo_awal_hari = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_BIAYA_GERAI').filter(id_cabang=cab).filter(status_jurnal=1)#.filter(jurnal__status_jurnal = u'2')
    saldo_uang_muka_hari = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT_UK').filter(id_cabang=cab).filter(status_jurnal=1)#.filter(jurnal__status_jurnal = u'2')
    jurnal_list = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'Pencairan_kasir').filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 7L)
    pndptn_lainnya = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis__in =('Pencairan_kasir','Pelunasan_kasir')).filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 448L)
    tbl = Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 
u'Pelunasan_kasir').filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 287L)
    tbl_beban =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = 
u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 516L)
    rakp =Tbl_Transaksi.objects.filter(tgl_trans = datetime.date.today()).filter(jenis = u'GL_GL_PUSAT').filter(id_cabang=object_id).filter(status_jurnal=1).filter(id_coa= 378L)
    
    variables = RequestContext(request,{'kocab':kocab,'transaksi_jurnal':transaksi_jurnal,'a':jurnal_list,'total_pencairan':sum ([a.kredit for a in 
jurnal_list]),\
        'saldo_awal_hari':sum ([a.debet for a in saldo_awal_hari]),\
        'saldo_uangmuka_hari':sum ([a.debet for a in saldo_uang_muka_hari]),\
        'total_pelunasan':sum ([a.kredit for a in tbl]),\
        'total_pendapatan_lainnya':sum ([a.kredit for a in pndptn_lainnya]),'sekarang':datetime.date.today(),\
        'total_penerimaan':(sum ([a.kredit for a in tbl]) + sum ([a.kredit for a in pndptn_lainnya])),\
        'total_pengeluaran':(sum ([a.kredit for a in jurnal_list])+ sum ([a.debet for a in transaksi_jurnal])),\
        'beban_listrik':(sum ([a.debet for a in tbl_beban])),\
        'total_rakp':sum ([a.kredit for a in rakp]), \
        'total_transaksi_jurnal': sum ([a.debet for a in transaksi_jurnal]),\
        'total_saldo' :  sum ([a.debet for a in saldo_awal_hari]) + saldo_awal + sum ([a.debet for a in saldo_uang_muka_hari]),
        'saldo_akhir':( (sum ([a.kredit for a in rakp]) + (sum ([a.debet for a in tbl])\
            + sum ([a.kredit for a in pndptn_lainnya]))) - (sum ([a.kredit for a in jurnal_list])+ sum ([a.debet for a in tbl_beban]))),
        'saldo_keseluruhan': (sum ([a.debet for a in saldo_awal_hari])) + ((sum ([a.kredit for a in tbl]) + sum ([a.debet for a in saldo_uang_muka_hari])\
            + sum ([a.kredit for a in pndptn_lainnya])))- ((sum ([a.kredit for a in jurnal_list])  \
            + sum ([a.debet for a in transaksi_jurnal]))),
        'saldo_yang_di_kirim':sum ([a.debet for a in saldo_yang_dikirim]),
        'saldo_akhir': ((sum ([a.debet for a in saldo_awal_hari])) + ((sum ([a.kredit for a in tbl]) + sum ([a.debet for a in saldo_uang_muka_hari])\
            + sum ([a.kredit for a in pndptn_lainnya])))- ((sum ([a.kredit for a in jurnal_list]) \
            + sum ([a.debet for a in transaksi_jurnal]))))- sum ([a.debet for a in saldo_yang_dikirim]),
    })
    template='kasir/view/all_transaksi.html'
    return render_to_response(template,variables)

def slip_validasi(request, object_id):
    gr = KasirGerai.objects.get(id = object_id)
    gr.val = 1
    gr.save()
    template = 'kasir/view/kw_val.html'
    variable = RequestContext(request, {'gr':gr,})
    return render_to_response(template,variable)

def all_approve(request,object_id):
    sekarang= datetime.date.today()
    ka = KasirGerai.objects.filter(kasir__gerai__kode_cabang=object_id)        
    #kasir = ka.filter(tanggal=sekarang)
    kasir = ka.all()
    template='kasir/view/data_approve_kasir.html'
    variable = RequestContext(request,{'ka': ka,'kasir':kasir})
    return render_to_response(template,variable)
    

def all_transaksi_jurnal(request,object_id):
    form = KasirGeraiForm()
    if 'start_date' in request.GET and request.GET['start_date']:
        start_date = request.GET['start_date']
        jurnal_list = Tbl_Transaksi.objects.filter(tgl_trans= start_date).filter(id_cabang=object_id).filter(status_jurnal=1)
        b = Tbl_Akun.objects.all()
        trans =[]
        for l in jurnal_list:
            trans.append(l)
        variables = RequestContext(request, {'cabang':Tbl_Cabang.objects.get(kode_cabang=object_id),'jurnal_list': trans,'kode':b,'sekarang':start_date,
            'total_debet':sum([p.debet for p in jurnal_list]),'total_kredit':sum([p.kredit for p in jurnal_list])})
        return render_to_response('kasir/view/all_transaksi_jurnal.html', variables)
    else:
        template='kasir/view/all_transaksi_jurnal.html'
        variable = RequestContext(request,{'cabang':Tbl_Cabang.objects.get(kode_cabang=object_id),'form':form})
        return render_to_response(template,variable)

def postting_all_jurnal(request):
    for i in request.POST.getlist('id_pilih'):
        gl = Tbl_Transaksi.objects.get(id=int(i))
        gl.status_jurnal = 2
        gl.save()
    messages.add_message(request, messages.INFO,' POSTING TRANSAKSI JUNAL SUKSES.')
    return HttpResponseRedirect("/")

def view_cabang(request,object_id):
    sekarang = datetime.date.today()
    akumulasi_kredit =0
    akumulasi_debet =0    
    jurnal_list = Tbl_Transaksi.objects.filter(id_coa__id=7).filter(tgl_trans= sekarang).filter(id_cabang=object_id)
    b = Tbl_Akun.objects.get(id=7)
    trans =[]
    for l in jurnal_list:
        for t in l.jurnal.tbl_transaksi_set.filter():
            akumulasi_kredit += t.kredit
            akumulasi_debet += t.debet
            trans.append({'debet':t.debet,'kredit':t.kredit,'saldo_awal':  (t.id_coa.saldo_pjb + akumulasi_debet) - akumulasi_kredit ,'deskripsi': t.id_coa.deskripsi,\
                'diskripsi' : t.jurnal.diskripsi,'kepala_coa': t.kepala_coa,'coa':t.id_coa.coa,'nobukti': t.jurnal.nobukti,'tgl_trans':t.tgl_trans,
                'id':t.id_coa.id})
            #saldo = saldo_awal
    variables = RequestContext(request, {'jurnal_list': trans,'kode':b,'saldo_kas':(b.saldo_pjb + sum([p.debet for p in jurnal_list])) - sum([p.kredit for p in jurnal_list]),
        'total_debet':sum([p.debet for p in jurnal_list]),'total_kredit':sum([p.kredit for p in jurnal_list])})
    return render_to_response('kasir/view/viewcabang.html', variables)

def master_tiket_kasir_pelunasan(request,object_id):
    sekarang = datetime.date.today()
    gr = Tbl_Transaksi.objects.filter(tgl_trans=sekarang).filter(id_cabang=object_id).filter(status_jurnal=2).filter(jenis__in=(u'Pelunasan_kasir', u'Pelunasan_Gadai_Ulang_kasir',u'Pelunasan_gu_kasir_nilai_sblm_lebih',u'Pelunasan_gu_kasir_nilai_sblm_kurang'))  
    template = 'kasir/tiket/mastertiket_pelunasan_kasir.html'
    variables = RequestContext(request, {'user':User,'g':gr,'total_debet': sum([p.debet for p in gr]),'total_kredit': sum([p.kredit for p in gr])})
    return render_to_response(template, variables)

def is_in_multiple_groups(user):
    return user.groups.filter(name__in=['ADM_GERAI','SUPERUSER','KASIR_GERAI','KPLGERAI'])
@login_required
@user_passes_test(is_in_multiple_groups)
def mcc(request, object_id):
    gadai = AkadGadai.objects.get(id=object_id)
    gadai.status_mcc = '0'
    gadai.save()
   
    template = 'kasir/view/showmcc.html'
    variable = RequestContext(request, {'gadai': gadai})
    return render_to_response(template,variable)

def print_loan(request, object_id):
    gadai = AkadGadai.objects.get(id=object_id)
    template = 'kasir/view/cetak_loan_file.html'
    variable = RequestContext(request, {'gadai': gadai})
    return render_to_response(template,variable)

def cetak_data_kredit(request, object_id):
    gadai = AkadGadai.objects.get(id=object_id)
    template = 'kasir/view/loan_file.html'
    variable = RequestContext(request, {'ag': gadai})
    return render_to_response(template,variable)

def mcc_image(request, object_id):
    gadai = AkadGadai.objects.get(id=object_id)
    template = 'kasir/view/showmcc_image.html'
    variable = RequestContext(request, {'gadai': gadai})
    return render_to_response(template,variable)


def approve_pelunasan_kasir(request,object_id):
    a = Pelunasan.objects.all()
    #kasir = a.filter(gerai__kode_cabang=object_id).filter(kasirgerai__kasir_lunas=None)
    kasir = a.filter(gerai__kode_cabang=object_id)
    template='kasir/view/data_pelunasan_kasir.html'
    variable = RequestContext(request,{'a': a,'kasir':kasir})
    return render_to_response(template,variable)

####PELUNASAN KASIR
def lunas_kasir(request):
    akad = AkadGadai.objects.all()
    template='kasir/pelunasan/plns.html'
    variable = RequestContext(request,{'akad': akad})
    return render_to_response(template,variable)

def cariplns(request):
    rekening=request.GET['rekening']
    try:
        akad=AkadGadai.objects.get(id=int(rekening))
        return HttpResponseRedirect("/kasirgerai/%s/kasir_pelunasan/" % akad.id)
    except:
        messages.add_message(request, messages.INFO,'No rekening tidak ditemukan.')
        return HttpResponseRedirect("/")

def kasir_pelunasan(request, object_id):
    sekarang = datetime.date.today
    kasir = AkadGadai.objects.get(id=object_id)
    plns = Pelunasan.objects.filter(status_pelunasan__in = (u'2',u'1')).filter(pelunasan__id=kasir.id)
    status = Pelunasan.objects.filter(status_pelunasan = u'1').filter(pelunasan__id=kasir.id)
    pembayaran = Pelunasan.objects.filter(pelunasan__id=kasir.id)
    form = KasirGeraiForm(initial={'status': 1,'kasir_lunas': kasir.id,'nilai':int(kasir.nilai),
        'nilai_terima_bersih': (int(kasir.nilai) + int(kasir.hitung_jasa_pelunasan()) + int(kasir.hitung_denda_pelunasan()) - int(kasir.nilai_pelunasan()) 
            + int(kasir.lunas_denda_all()) + int(kasir.lunas_jasa_all())),
        'nilai_yg_dibayar':int(kasir.selisih_pelunasan),
        'nilai_dibayar':int(sum([a.nilai for a in plns])),
        'sisa_bayar': (int(kasir.nilai) + int(kasir.hitung_jasa_pelunasan()) + int(kasir.hitung_denda_pelunasan())) - (int(kasir.nilai_pelunasan()) + int(kasir.lunas_jasa_all()) + int(kasir.lunas_denda_all()))})
        #'sisa_bayar': int(kasir.nilai_pelunasan()) + int(kasir.lunas_jasa()) + int(kasir.lunas_denda()) 
            #+ int(kasir.lunas_denda_kendaraan()) + int(kasir.lunas_bea_jasa_kendaraan()) - int(sum ([a.nilai for a in plns]))})

    form.fields['status'].widget = forms.HiddenInput()
    template = 'kasir/kasir_pelunasan.html'
    variable = RequestContext(request, {'kasir': kasir,'form':form,'plns':plns,'pembayaran':pembayaran,
        'status':status,'total': int(sum([a.nilai for a in plns]))})
    return render_to_response(template,variable)
    
def inputkasir_pelunasan(request, object_id):
    sekarang = datetime.date.today()
    ksa = AkadGadai.objects.get(id=object_id)
    plns = Pelunasan.objects.filter(pelunasan_id = ksa.id)
    if request.method == 'POST':
        f =  KasirGeraiForm(request.POST)
        if f.is_valid():
            tanggal = f.cleaned_data['tanggal']
            status = f.cleaned_data['status']
            jenis_transaksi = f.cleaned_data['jenis_transaksi']
            nilai_terima_bersih = f.cleaned_data['nilai_terima_bersih']            
            selisih = f.cleaned_data['selisih']
            nilai_pembulatan = f.cleaned_data['nilai_pembulatan']
            nilai_dibayar = f.cleaned_data['nilai_dibayar']
            
            sisa_bayar = f.cleaned_data['sisa_bayar']
            
            ksa.selisih_pelunasan = selisih
            ksa.val = 1
            ksa.status_kwlunas  = 0
            ksa.save()
            
            if ksa.selisih_pelunasan <= 0 and ksa.lunas_identitas() == 0:
                pln = Pelunasan(tanggal =sekarang , pelunasan=ksa,nilai=nilai_pembulatan ,gerai = ksa.gerai,nocoa_titipan='21.03.01',nocoa_kas='11.01.04',denda = 0,
                    bea_jasa = 0, denda_kendaraan = 0,status_pelunasan ='')
                pln.save()

            
            elif ksa.selisih_pelunasan <= 0 and ksa.lunas_identitas() != 0:
                #pln = Pelunasan(tanggal =sekarang , pelunasan=ksa,nilai=nilai_pembulatan ,gerai = ksa.gerai,nocoa_titipan='21.03.01',nocoa_kas='11.01.04',denda = 0,
                    #bea_jasa = 0, denda_kendaraan = 0,status_pelunasan ='2')
                #pln.save()
                plns.update(status_pelunasan ='2',nilai=nilai_pembulatan)
            

            else:
                #pln = Pelunasan(tanggal =sekarang , pelunasan=ksa,nilai=nilai_pembulatan ,gerai = ksa.gerai,nocoa_titipan='21.03.01',nocoa_kas='11.01.04',denda = 0,
                    #bea_jasa = 0, denda_kendaraan = 0,status_pelunasan ='1')
                #pln.save()
                plns.update(status_pelunasan ='1',nilai=nilai_pembulatan)
            ks = KasirGerai(tanggal=tanggal,jenis_transaksi=jenis_transaksi,status=1,val_lunas=1,val = 0,\
                selisih_lunas = selisih, nilai_pembulatan_lunas = nilai_pembulatan,nilai = nilai_terima_bersih,sisa_bayar=sisa_bayar)#kasir_lunas_id= pln.id,
            ks.save()
            ks.kasir_lunas_id = ksa.lunas_identitas()
            ks.save()
            #####broksa.lunas_identitas()
            if ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '1' and ks.selisih_lunas > 0:
                jurnal_bank_jkt_plns_lebih(ks, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '1' and ks.selisih_lunas == 0:
                jurnal_bank_jkt_plns_sama(ks, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '1' and ks.selisih_lunas < 0:
                jurnal_bank_jkt_plns_kurang(ks, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
                
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '2' and ks.selisih_lunas > 0:
                jurnal_bank_suci_plns_lebih(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '2' and ks.selisih_lunas == 0:
                jurnal_bank_suci_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '2' and ks.selisih_lunas < 0:
                jurnal_bank_suci_plns_kurang(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '3' and ks.selisih_lunas > 0:
                jurnal_bank_du_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '3' and ks.selisih_lunas == 0:
                jurnal_bank_du_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '3' and ks.selisih_lunas < 0:
                jurnal_bank_du_plns_kurang(ks, request.user)    
                
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas > 0:
                jurnal_bank_balubur_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas == 0:
                jurnal_bank_balubur_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas < 0:
                jurnal_bank_balubur_plns_kurang(ks, request.user)
                                
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas > 0:
                jurnal_bank_gh_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas == 0:
                jurnal_bank_gh_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas < 0:
                jurnal_bank_gh_plns_kurang(ks, request.user)
            
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '7' and ks.selisih_lunas > 0:
                jurnal_bank_kopo_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '7' and ks.selisih_lunas == 0:
                jurnal_bank_kopo_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '7' and ks.selisih_lunas < 0:
                jurnal_bank_kopo_plns_kurang(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '8' and ks.selisih_lunas > 0:
                jurnal_bank_cbr_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '8' and ks.selisih_lunas == 0:
                jurnal_bank_cbr_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '8' and ks.selisih_lunas < 0:
                jurnal_bank_cbr_plns_kurang(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '9' and ks.selisih_lunas > 0:
                jurnal_bank_cipacing_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '9' and ks.selisih_lunas == 0:
                jurnal_bank_cipacing_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '9' and ks.selisih_lunas < 0:
                jurnal_bank_cipacing_plns_kurang(ks, request.user)
            
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '10' and ks.selisih_lunas > 0:
                jurnal_bank_jatinangor_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '10' and ks.selisih_lunas == 0:
                jurnal_bank_jatinangor_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '10' and ks.selisih_lunas < 0:
                jurnal_bank_jatinangor_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '11' and ks.selisih_lunas > 0:
                jurnal_bank_cimahi_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '11' and ks.selisih_lunas == 0:
                jurnal_bank_cimahi_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '11' and ks.selisih_lunas < 0:
                jurnal_bank_cimahi_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '12' and ks.selisih_lunas > 0:
                jurnal_bank_bubat_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '12' and ks.selisih_lunas == 0:
                jurnal_bank_bubat_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '12' and ks.selisih_lunas < 0:
                jurnal_bank_bubat_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '14' and ks.selisih_lunas > 0:
                jurnal_bank_cihanjuang_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '14' and ks.selisih_lunas == 0:
                jurnal_bank_cihanjuang_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '14' and ks.selisih_lunas < 0:
                jurnal_bank_cihanjuang_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas > 0:
                jurnal_bank_maranata_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas == 0:
                jurnal_bank_maranata_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas < 0:
                jurnal_bank_maranata_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas > 0:
                jurnal_bank_crbp_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas == 0:
                jurnal_bank_crbp_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas < 0:
                jurnal_bank_crbp_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '19' and ks.selisih_lunas > 0:
                jurnal_bank_cimuleuit_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '19' and ks.selisih_lunas == 0:
                jurnal_bank_cimuleuit_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '19' and ks.selisih_lunas < 0:
                jurnal_bank_cimuleuit_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '20' and ks.selisih_lunas > 0:
                jurnal_bank_uber_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '20' and ks.selisih_lunas == 0:
                jurnal_bank_uber_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '20' and ks.selisih_lunas < 0:
                jurnal_bank_uber_plns_kurang(ks, request.user)
      
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '21' and ks.selisih_lunas > 0:
                jurnal_bank_ciwastra_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '21' and ks.selisih_lunas == 0:
                jurnal_bank_ciwastra_plns(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir_lunas.gerai.kode_cabang == '21' and ks.selisih_lunas < 0:
                jurnal_bank_ciwastra_plns_kurang(ks, request.user)
            
            ###jurnal pencairan kas
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '1' and ks.selisih_lunas > 0:
                jurnal_kas_jkt_plns_lebih(ks, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '1' and ks.selisih_lunas == 0:
                jurnal_kas_jkt_plns_sama(ks, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING LEBIH ###.')
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '1' and ks.selisih_lunas < 0:
                jurnal_kas_jkt_plns_kurang(ks, request.user)
                messages.add_message(request, messages.INFO,'### JURNAL TELAH TERPOSTING JURNAL TITIPAN###.')
                
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '2' and ks.selisih_lunas > 0:
                jurnal_kas_suci_plns_lebih(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '2' and ks.selisih_lunas == 0:
                jurnal_kas_suci_plns_lebih_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '2' and ks.selisih_lunas < 0:
                jurnal_kas_suci_plns_kurang(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '3' and ks.selisih_lunas > 0:
                jurnal_kas_du_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '3' and ks.selisih_lunas == 0:
                jurnal_kas_du_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '3' and ks.selisih_lunas < 0:
                jurnal_kas_du_plns_kurang(ks, request.user)    
                
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas > 0:
                jurnal_kas_balubur_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas == 0:
                jurnal_kas_balubur_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas < 0:
                jurnal_kas_balubur_plns_kurang(ks, request.user)
                                
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas > 0:
                jurnal_kas_gh_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas == 0:
                jurnal_kas_gh_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '4' and ks.selisih_lunas < 0:
                jurnal_kas_gh_plns_kurang(ks, request.user)
            
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '7' and ks.selisih_lunas > 0:
                jurnal_kas_kopo_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '7' and ks.selisih_lunas == 0:
                jurnal_kas_kopo_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '7' and ks.selisih_lunas < 0:
                jurnal_kas_kopo_plns_kurang(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '8' and ks.selisih_lunas > 0:
                jurnal_kas_cbr_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '8' and ks.selisih_lunas == 0:
                jurnal_kas_cbr_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '8' and ks.selisih_lunas < 0:
                jurnal_kas_cbr_plns_kurang(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '9' and ks.selisih_lunas > 0:
                jurnal_kas_cipacing_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '9' and ks.selisih_lunas == 0:
                jurnal_kas_cipacing_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '9' and ks.selisih_lunas < 0:
                jurnal_kas_cipacing_plns_kurang(ks, request.user)
            
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '10' and ks.selisih_lunas > 0:
                jurnal_kas_jatinangor_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '10' and ks.selisih_lunas == 0:
                jurnal_kas_jatinangor_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '10' and ks.selisih_lunas < 0:
                jurnal_kas_jatinangor_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '11' and ks.selisih_lunas > 0:
                jurnal_kas_cimahi_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '11' and ks.selisih_lunas == 0:
                jurnal_kas_cimahi_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '11' and ks.selisih_lunas < 0:
                jurnal_kas_cimahi_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '12' and ks.selisih_lunas > 0:
                jurnal_kas_bubat_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '12' and ks.selisih_lunas == 0:
                jurnal_kas_bubat_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '12' and ks.selisih_lunas < 0:
                jurnal_kas_bubat_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '14' and ks.selisih_lunas > 0:
                jurnal_kas_cihanjuang_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '14' and ks.selisih_lunas == 0:
                jurnal_kas_cihanjuang_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '14' and ks.selisih_lunas < 0:
                jurnal_kas_cihanjuang_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas > 0:
                jurnal_kas_maranata_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas == 0:
                jurnal_kas_maranata_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas < 0:
                jurnal_kas_maranata_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas > 0:
                jurnal_kas_crbp_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas == 0:
                jurnal_kas_crbp_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '15' and ks.selisih_lunas < 0:
                jurnal_kas_crbp_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '19' and ks.selisih_lunas > 0:
                jurnal_kas_cimuleuit_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '19' and ks.selisih_lunas == 0:
                jurnal_kas_cimuleuit_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '19' and ks.selisih_lunas < 0:
                jurnal_kas_cimuleuit_plns_kurang(ks, request.user)

            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '20' and ks.selisih_lunas > 0:
                jurnal_kas_uber_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '20' and ks.selisih_lunas == 0:
                jurnal_kas_uber_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '20' and ks.selisih_lunas < 0:
                jurnal_kas_uber_plns_kurang(ks, request.user)
      
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '21' and ks.selisih_lunas > 0:
                jurnal_kas_ciwastra_plns(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '21' and ks.selisih_lunas == 0:
                jurnal_kas_ciwastra_plns_sama(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir_lunas.gerai.kode_cabang == '21' and ks.selisih_lunas < 0:
                jurnal_kas_ciwastra_plns_kurang(ks, request.user)
            
            messages.add_message(request, messages.INFO,'### DATA KASIR TERPOSTING ###.')
            return HttpResponseRedirect('/')
        else:
            variables = RequestContext(request,{ 'form': f,'ksa':ksa})
            return render_to_response('kasir/kasir_pelunasan.html', variables)
    else:
        form  = KasirGeraiForm()
        form.fields['gerai'].queryset = Tbl_Cabang.objects.for_user(user) 
    variables = RequestContext(request, {'form': f,'ksa':ksa})
    return render_to_response('kasir/kasir_pelunasan.html', variables)
        

#####jurnal pelunasan bank jakarta     
def jurnal_bank_jkt_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_jkt_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
       
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_jkt_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)      

#####jurnal pelunasan bank suci 
def jurnal_bank_suci_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=134L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_suci_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=134L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
     
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_suci_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=134L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan bank du
def jurnal_bank_du_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=136L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_du_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=136L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_du_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=136L)

    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)      
    
#####jurnal pelunasan bank balubur
def jurnal_bank_balubur_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=141L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_balubur_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=141L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
   
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_balubur_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=141L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)   

#####jurnal pelunasan bank hilir
def jurnal_bank_gh_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=137L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_gh_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=137L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
      
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_gh_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=137L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)   
    
#####jurnal pelunasan bank kopo
def jurnal_bank_kopo_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=138L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_kopo_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=138L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_kopo_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=138L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan bank cibiru
def jurnal_bank_cbr_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=135L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cbr_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=135L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cbr_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=135L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan bank cipacing
def jurnal_bank_cipacing_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=139L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cipacing_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=139L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cipacing_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=139L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan bank jainangor
def jurnal_bank_jatinangor_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=140L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_jatinangor_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=140L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_jatinangor_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=140L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
 
#####jurnal pelunasan bank cimahi   
def jurnal_bank_cimahi_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=142L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cimahi_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=142L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cimahi_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=142L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan bank bubat
def jurnal_bank_bubat_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=148L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_bubat_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=148L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_bubat_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=148L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan bank maranata
def jurnal_bank_maranata_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=144L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_maranata_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=144L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_maranata_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=144L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan bank cirebon
def jurnal_bank_crbp_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=147L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_crbp_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=147L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_crbp_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=147L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan bank ciumbeleuit
def jurnal_bank_cimuleuit_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=150L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cimuleuit_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=150L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cimuleuit_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=150L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan bank uber
def jurnal_bank_uber_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=151L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_uber_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=151L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_uber_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=151L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan bank ciwastra
def jurnal_bank_ciwastra_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=629L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
   
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_ciwastra_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_bank = get_object_or_404(Tbl_Akun, id=629L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_ciwastra_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_bank = get_object_or_404(Tbl_Akun, id=629L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_bank,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
######jurnal pencairan bank

#####jurnal pelunasan kas jakarta
def jurnal_kas_jkt_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_jkt_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
      
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_jkt_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)      

#####jurnal pelunasan kas suci
def jurnal_kas_suci_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_suci_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_suci_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan kas du
def jurnal_kas_du_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
 
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_du_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_du_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)      

#####jurnal pelunasan kas balubur
def jurnal_kas_balubur_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
 
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_balubur_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
   
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_balubur_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)   

#####jurnal pelunasan kas hilir
def jurnal_kas_gh_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_gh_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
       
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_gh_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)   
    
#####jurnal pelunasan kas kopo
def jurnal_kas_kopo_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
   
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_kopo_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_kopo_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan kas cirebon
def jurnal_kas_cbr_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cbr_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cbr_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan kas cipacing
def jurnal_kas_cipacing_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cipacing_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
 
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cipacing_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan kas jatinangor    
def jurnal_kas_jatinangor_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
 
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_jatinangor_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
 
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_jatinangor_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan kas cimahi
def jurnal_kas_cimahi_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cimahi_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cimahi_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan kas bubat
def jurnal_kas_bubat_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
  
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_bubat_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_bubat_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan kas maranata
def jurnal_kas_maranata_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_maranata_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_maranata_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan kas cirebon
def jurnal_kas_crbp_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_crbp_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_crbp_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan kas ciumbeleuit
def jurnal_kas_cimuleuit_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_cimuleuit_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)    


def jurnal_kas_cimuleuit_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
#####jurnal pelunasan kas uber
def jurnal_kas_uber_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_uber_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_uber_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

#####jurnal pelunasan kas ciwastra
def jurnal_kas_ciwastra_plns_lebih(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=628L)
    a_pend_lainnya= get_object_or_404(Tbl_Akun, id = 448L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_pend_lainnya,
        debet = 0,kredit = (ks.selisih_lunas),id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_ciwastra_plns_sama(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=628L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.sisa_bayar,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_ciwastra_plns_kurang(ks, user):
    D = decimal.Decimal
    a_titipan_pelunasan = get_object_or_404(Tbl_Akun, id=287L)
    a_kas = get_object_or_404(Tbl_Akun, id=628L)
    jurnal = Jurnal.objects.create(
        diskripsi= 'Plns: NoRek: %s an: %s  ' % (ks.kasir_lunas.norek(), ks.kasir_lunas.pelunasan.agnasabah.nama),
        tgl_trans =ks.tanggal,nobukti=ks.kasir_lunas.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_kas,
        kredit = 0,debet = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = ks.selisih_lunas,id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
        
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pelunasan_kasir"), id_coa = a_titipan_pelunasan,
        debet = 0,kredit = ks.nilai_pembulatan_lunas,id_product = '4',status_jurnal ='2',tgl_trans = ks.tanggal,
        id_cabang =ks.kasir_lunas.gerai.kode_cabang,id_unit= 300)
##################batas akhir jurnal kas kasir pelunasan        


def data_approve(request,object_id):
    approve=AkadGadai.objects.all()
    view = approve.filter(gerai__kode_cabang=object_id).filter(status_transaksi = 3)
    template = 'kasir/view/data_approve.html'
    variables = RequestContext(request,{'approve':approve,'view':view})
    return render_to_response(template,variables)

def lunas(request,object_id):    
    sekarang = datetime.date.today()
    a = Pelunasan.objects.all()
    #akad = a.filter(gerai__kode_cabang=object_id).filter(kasirgerai__kasir_lunas=None)
    akad = a.filter(gerai__kode_cabang=object_id)#.filter(tanggal = sekarang)
    template='kasir/view/data_lunas.html'
    variable = RequestContext(request,{'akad': akad})
    return render_to_response(template,variable)

def mastertiket_gl_gl(request,object_id):
    sekarang = datetime.date.today()  
    gr = Tbl_Transaksi.objects.filter(tgl_trans=sekarang).filter(id_cabang=object_id).filter(status_jurnal=u'2').filter(jenis__in=('GL_GL_PUSAT','GL_GL_NON_KAS','GL_GL_CABANG'))  
    template = 'kasir/tiket/mastertiketgl_gl.html'
    variables = RequestContext(request, {'user':User,'g':gr,'total_debet': sum([p.debet for p in gr]),'total_kredit': sum([p.kredit for p in gr])})
    return render_to_response(template, variables)

def mastertiket_pencairan_kasir(request,object_id):
    sekarang = datetime.date.today()
    cabang = Tbl_Cabang.objects.get(kode_cabang=object_id)
    gr = Tbl_Transaksi.objects.filter(tgl_trans=sekarang).filter(id_cabang=object_id).filter(status_jurnal=u'2').filter(jenis=u'Pencairan_kasir')  
    template = 'kasir/tiket/mastertiket_pencairan_uji_coba.html'
    variables = RequestContext(request, {'cabang':cabang,'user':User,'g':gr,'total_debet': sum([p.debet for p in gr]),'total_kredit': sum([p.kredit for p in gr])})
    return render_to_response(template, variables)

def mastertiket_uji_coba_kasir(request,object_id):
    if 'dari' in request.GET and request.GET['hingga']:
        dari = request.GET['dari']
        hingga = request.GET['hingga']
        gr = Tbl_Transaksi.objects.filter(tgl_trans__range=(dari,hingga)).filter(id_cabang=object_id).filter(status_jurnal= '2').filter(jenis__in=('Pencairan_kasir','Pencairan_kasir_sisa','Pencairan_kasir_kurang'))  
    else:
        gr = Tbl_Transaksi.objects.all()
    variables = RequestContext(request, {'g': gr,'cabang':Tbl_Cabang.objects.get(kode_cabang=object_id),'g':gr,'total_debet': sum([p.debet for p in gr]),'total_kredit': sum([p.kredit for p in gr])})
    return render_to_response('kasir/tiket/mastertiket_pencairan.html', variables)

def kasir(request, object_id):
    sekarang = datetime.date.today
    kasir = AkadGadai.objects.get(id=object_id)
    form = KasirGeraiForm(initial={'status': 1,'kasir': kasir.id,'no_pinjaman':kasir.norek,'tanggal':sekarang,'nilai':int(kasir.nilai),
        'nilai_terima_bersih':int(kasir.terima_bersih_all())})
    form.fields['kasir'].widget = forms.HiddenInput()
    form.fields['kasir_lunas'].widget = forms.HiddenInput()
    form.fields['status'].widget = forms.HiddenInput()
    
    template = 'kasir/kasir.html'
    variable = RequestContext(request, {'kasir': kasir,'form': form})
    return render_to_response(template,variable) 
    
@login_required
@user_passes_test(lambda u: u.groups.filter(name='KASIR_GERAI'))
def inputkasir(request, object_id):
    kasir = AkadGadai.objects.get(id=object_id)
    if request.method == 'POST':
        f =  KasirGeraiCairForm(request.POST)
        if f.is_valid():
            tanggal = f.cleaned_data['tanggal']
            status = f.cleaned_data['status']
            jenis_transaksi = f.cleaned_data['jenis_transaksi']
            nilai = f.cleaned_data['nilai']
            nilai_pembulatan = f.cleaned_data['nilai_pembulatan']
            selisih = f.cleaned_data['selisih']
            sisa_bayar = f.cleaned_data['sisa_bayar']
            messages.add_message(request, messages.INFO,'### DATA KASIR TERPOSTING ###.')
            ks = KasirGerai(tanggal=tanggal,kasir=kasir,jenis_transaksi=jenis_transaksi,status=status,nilai_pembulatan=nilai_pembulatan,\
                 selisih=selisih,coa_sisa ='41.04.99', val = 0 ,sisa_bayar =0 )
            ks.save()
            
            if ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '1' and ks.selisih >= 0:
                jurnal_bank_jkt(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '1' and ks.selisih < 0:
                jurnal_bank_jkt_kecil(ks, request.user)    
            
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '2' and ks.selisih >= 0:
                jurnal_bank_suci(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '2' and ks.selisih < 0:
                jurnal_bank_suci_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '3' and ks.selisih >= 0:
                jurnal_bank_du(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '3' and ks.selisih < 0:
                jurnal_bank_du_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '4' and ks.selisih >= 0:
                jurnal_bank_balubur(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '4' and ks.selisih < 0:
                jurnal_bank_balubur_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '6' and ks.selisih >= 0:
                jurnal_bank_gh(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '6' and ks.selisih < 0:
                jurnal_bank_gh_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '7' and ks.selisih >= 0:
                jurnal_bank_kopo(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '7' and ks.selisih < 0:
                jurnal_bank_kopo_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '8' and ks.selisih >= 0:
                jurnal_bank_cbr(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '8' and ks.selisih < 0:
                jurnal_bank_cbr_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '9'and ks.selisih >= 0:
                jurnal_bank_cipacing(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '9' and ks.selisih < 0:
                jurnal_bank_cipacing_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '10' and ks.selisih >= 0:
                jurnal_bank_jatinangor(ks , request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '10' and ks.selisih < 0:
                jurnal_bank_jatinangor_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '11' and ks.selisih >= 0:
                jurnal_bank_cimahi(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '11' and ks.selisih < 0:
                jurnal_bank_cimahi_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '12' and ks.selisih >= 0:
                jurnal_bank_bubat(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '12' and ks.selisih < 0:
                jurnal_bank_bubat_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '15' and ks.selisih >= 0:
                jurnal_bank_maranata(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '15' and ks.selisih < 0:
                jurnal_bank_maranata_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '17' and ks.selisih >= 0:
                jurnal_bank_crbp(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '17' and ks.selisih < 0:
                jurnal_bank_crbp_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '19' and ks.selisih >= 0:
                jurnal_bank_cimuleuit(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '19' and ks.selisih < 0:
                jurnal_bank_cimuleuit_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '20' and ks.selisih >= 0:
                jurnal_bank_uber(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '20' and ks.selisih < 0:
                jurnal_bank_uber_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '21' and ks.selisih >= 0:
                jurnal_bank_ciwastra(ks, request.user)
            elif ks.jenis_transaksi == u'2' and ks.kasir.gerai.kode_cabang == '21' and ks.selisih < 0:
                jurnal_bank_ciwastra_kecil(ks, request.user) 
            
            ###kas pencairan
            if ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '1' and ks.selisih >= 0:
                jurnal_kas_jkt(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '1' and ks.selisih < 0:
                jurnal_kas_jkt_kecil(ks, request.user)    
            
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '2' and ks.selisih >= 0:
                jurnal_kas_suci(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '2' and ks.selisih < 0:
                jurnal_kas_suci_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '3' and ks.selisih >= 0:
                jurnal_kas_du(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '3' and ks.selisih < 0:
                jurnal_kas_du_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '4' and ks.selisih >= 0:
                jurnal_kas_balubur(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '4' and ks.selisih < 0:
                jurnal_kas_balubur_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '6' and ks.selisih >= 0:
                jurnal_kas_gh(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '6' and ks.selisih < 0:
                jurnal_kas_gh_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '7' and ks.selisih >= 0:
                jurnal_kas_kopo(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '7' and ks.selisih < 0:
                jurnal_kas_kopo_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '8' and ks.selisih >= 0:
                jurnal_kas_cbr(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '8' and ks.selisih < 0:
                jurnal_kas_cbr_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '9'and ks.selisih >= 0:
                jurnal_kas_cipacing(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '9' and ks.selisih < 0:
                jurnal_kas_cipacing_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '10' and ks.selisih >= 0:
                jurnal_kas_jatinangor(ks , request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '10' and ks.selisih < 0:
                jurnal_kas_jatinangor_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '11' and ks.selisih >= 0:
                jurnal_kas_cimahi(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '11' and ks.selisih < 0:
                jurnal_kas_cimahi_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '12' and ks.selisih >= 0:
                jurnal_kas_bubat(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '12' and ks.selisih < 0:
                jurnal_kas_bubat_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '15' and ks.selisih >= 0:
                jurnal_kas_maranata(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '15' and ks.selisih < 0:
                jurnal_kas_maranata_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '17' and ks.selisih >= 0:
                jurnal_kas_cirebon(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '17' and ks.selisih < 0:
                jurnal_kas_cirebon_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '19' and ks.selisih >= 0:
                jurnal_kas_cimuleuit(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '19' and ks.selisih < 0:
                jurnal_kas_cimuleuit_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '20' and ks.selisih >= 0:
                jurnal_kas_uber(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '20' and ks.selisih < 0:
                jurnal_kas_uber_kecil(ks, request.user)
                
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '21' and ks.selisih >= 0:
                jurnal_kas_ciwastra(ks, request.user)
            elif ks.jenis_transaksi == u'1' and ks.kasir.gerai.kode_cabang == '21' and ks.selisih < 0:
                jurnal_kas_ciwastra_kecil(ks, request.user) 
            
            return HttpResponseRedirect('/')
        else:
            variables = RequestContext(request, {'object': kasir, 'form': f})
            return render_to_response('kasir/kasir.html', variables)

 
def jurnal_kas_jkt(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_jkt_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=7L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_kurang"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_suci(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_suci_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=609L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_gh(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_gh_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=613L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)


def jurnal_kas_kopo(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_kopo_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=614L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cbr(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_cbr_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=615L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cipacing(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_cipacing_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=616L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_jatinangor(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_jatinangor_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=617L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_balubur(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_balubur_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=611L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)   
    
def jurnal_kas_du(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_du_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=610L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cimahi(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_cimahi_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=618L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_bubat(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_bubat_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=619L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_maranata(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_maranata_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=622L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    
def jurnal_kas_cirebon(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_kas_cirebon_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=624L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_cimuleuit(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_cimuleuit_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=626L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)


def jurnal_kas_uber(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_uber_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=627L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    
def jurnal_kas_ciwastra(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    a_kas = get_object_or_404(Tbl_Akun, id=628L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.kasir.nilai) - D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),
        #kredit = 0,debet = D(ks.kasir.nilai),
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_sisa"), id_coa = a_pdp_ops_lain,
        #kredit = D(ks.kasir.nilai) -D(ks.kasir.adm_all()) - D(round(ks.kasir.jasa_all())) - D(ks.kasir.beasimpan_all()),debet = 0,
        kredit = ks.selisih,debet = 0,
        id_product = '4',status_jurnal='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_kas_ciwastra_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_kas = get_object_or_404(Tbl_Akun, id=628L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_kas,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
####refisi tanggal 8.12.2014
def jurnal_bank_jkt(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)    
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_jkt_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=133L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir_kurang"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_suci(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=134L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_suci_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=134L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_du(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=136L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_du_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=136L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_balubur(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=141L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_balubur_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=141L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_gh(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=137L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_gh_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=137L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_kopo(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=138L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_kopo_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=138L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cbr(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=135L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_cbr_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=135L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cipacing(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=139L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cipacing_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=139L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_jatinangor(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=140L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_jatinangor_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=140L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_cimahi(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=142L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_cimahi_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=142L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_bubat(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=148L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_bubat_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=148L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
        
def jurnal_bank_cihanjuang(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=143L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_cihanjuang_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=143L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_maranata(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=144L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_maranata_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=144L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

    
def jurnal_bank_crbp(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=147L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_crbp_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=147L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_cimuleuit(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=150L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_cimuleuit_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=150L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_uber(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=151L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_uber_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=151L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
def jurnal_bank_ciwastra(ks, user):
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=629L)
    a_pdp_ops_lain = get_object_or_404(Tbl_Akun, id =448L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_pdp_ops_lain,
        kredit = (ks.selisih),debet = 0,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)

def jurnal_bank_ciwastra_kecil(ks, user):###teddy
    D = decimal.Decimal
    a_titipan_pencairan = get_object_or_404(Tbl_Akun, id=298L)
    a_bank = get_object_or_404(Tbl_Akun, id=629L)
    a_beban_lainnya = get_object_or_404(Tbl_Akun, id=539L)
    
    jurnal = Jurnal.objects.create(
        diskripsi= 'Penc: NoRek: %s an: %s  ' % (ks.kasir.norek(), ks.kasir.agnasabah.nama),
        tgl_trans =ks.tanggal,cu = user, mu = user,nobukti=ks.kasir.norek())
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_titipan_pencairan,
        kredit = 0,debet = D(ks.nilai_pembulatan) + D(ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_beban_lainnya,
        kredit = 0,debet = -1 * (ks.selisih),
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
    
    jurnal.tbl_transaksi_set.create(
        jenis = '%s' % ("Pencairan_kasir"), id_coa = a_bank,
        debet = 0,kredit = ks.nilai_pembulatan,
        id_product = '4',status_jurnal ='2',tgl_trans =ks.tanggal,
        id_cabang =ks.kasir.gerai.kode_cabang,id_unit= 300)
